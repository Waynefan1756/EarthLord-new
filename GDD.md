# 游戏设计文档 (GDD)
## 《地球新主》- EarthLord

---

## 一、游戏概念

### 1.1 游戏类型
- **主类型**: 位置服务游戏 (LBS Game)
- **副类型**: 策略经营、AR互动、社交竞技

### 1.2 核心玩法
《地球新主》是一款结合现实地理位置的AR策略游戏。玩家通过GPS定位在真实世界中圈占领地，建设经营，与其他玩家进行领地交易和竞争，最终成为区域的"地球新主"。

### 1.3 游戏愿景
打造一个连接虚拟与现实的游戏世界，让玩家在日常生活中体验领地经营的乐趣，鼓励户外探索，促进社交互动。

### 1.4 核心体验
- **探索感**: 发现和占领现实世界中的未知区域
- **成就感**: 建立属于自己的领地帝国
- **竞技感**: 与其他玩家争夺稀缺的优质地段
- **收集感**: 通过AR扫描收集资源和道具
- **社交感**: 与附近玩家互动、交易、结盟

---

## 二、游戏世界观

### 2.1 背景故事
2035年，人类发现了一种名为"地脉能量"的神秘力量。这种能量遍布地球各处，但只有少数人能够感知和利用它。

玩家作为"地脉感知者"，可以通过特殊设备（即手机）感知到地脉能量的分布，并通过圈占领地来收集和利用这些能量。

掌握了足够的地脉能量，就能成为区域的"新主"，获得超凡的影响力和财富。

### 2.2 世界规则
- 地球上的每一块土地都可能蕴含地脉能量
- 地脉能量会随时间自然增长
- 不同地理位置的能量品质不同（商业区 > 居民区 > 郊区）
- 玩家可以通过圈地收集能量
- 能量可以用于领地升级、交易、建设

### 2.3 角色设定
玩家是一名刚刚觉醒地脉感知能力的新人，需要从小规模圈地开始，逐步扩张势力范围。

---

## 三、核心游戏机制

### 3.1 圈地系统

#### 3.1.1 圈地方式
- **基础圈地**: 玩家在当前位置附近圈占一块区域（圆形）
  - 最小半径: 50米
  - 最大半径: 500米
  - 半径越大，消耗的游戏币越多

#### 3.1.2 领地类型
根据地理位置的特征，领地分为不同类型：

| 领地类型 | 特征 | 能量产出 | 示例 |
|---------|------|---------|------|
| 商业区 | 位于商场、写字楼附近 | ★★★★★ | 购物中心、CBD |
| 文化区 | 位于博物馆、学校附近 | ★★★★☆ | 大学、图书馆 |
| 居民区 | 位于住宅小区 | ★★★☆☆ | 小区、公寓 |
| 公园区 | 位于公园、广场 | ★★★☆☆ | 城市公园、广场 |
| 郊区 | 远离市中心 | ★★☆☆☆ | 农村、山区 |
| 特殊区 | 地标建筑 | ★★★★★+ | 著名景点、标志性建筑 |

#### 3.1.3 领地属性
每块领地具有以下属性：
- **等级**: 1-10级，影响产能和防御力
- **面积**: 圈地时确定，影响产能基础值
- **能量产出**: 每小时产出的地脉能量
- **防御值**: 抵抗其他玩家攻击的能力
- **维护成本**: 每天需要支付的维护费用

#### 3.1.4 圈地规则
- 不能圈占已被其他玩家占领的区域
- 每个玩家最多拥有20块领地（初始5块，通过升级增加）
- 圈地需要实际到达该位置（GPS验证）
- 圈地消耗游戏币，价格根据区域价值动态调整

#### 3.1.5 领地升级
玩家可以通过消耗资源升级领地：
- **升级效果**: 提升能量产出、增加防御值、解锁新功能
- **升级条件**: 消耗金币 + 特殊材料
- **升级时间**: 1级→2级需要1小时，时间随等级递增

#### 3.1.6 领地建筑
在领地上可以建造不同建筑，增加产出和功能：
- **能量塔**: 提升能量产出 +20%
- **防御堡垒**: 提升防御值 +30%
- **资源仓库**: 增加资源存储上限 +50%
- **交易所**: 降低交易手续费 -10%

---

### 3.2 资源系统

#### 3.2.1 主要资源类型

**1. 地脉能量（Energy）**
- 主要货币，通过领地产出获得
- 用于圈地、升级、建造、交易
- 每小时自动收获，存储上限根据等级决定

**2. 金币（Coins）**
- 次级货币，通过任务、活动获得
- 用于快速升级、购买道具
- 可通过内购获得（可选）

**3. 特殊材料（Materials）**
- 稀有资源，通过AR扫描、任务、交易获得
- 种类:
  - 水晶石（用于高级建筑）
  - 能量核心（用于领地升级）
  - 防护盾（用于防御）
  - 加速器（缩短建造时间）

#### 3.2.2 资源获取途径
| 资源类型 | 获取方式 |
|---------|---------|
| 地脉能量 | 领地产出、任务奖励、交易 |
| 金币 | 每日签到、成就奖励、活动 |
| 特殊材料 | AR扫描、宝箱开启、商城购买 |

#### 3.2.3 资源消耗
- **圈地**: 消耗地脉能量，基础费用1000能量/100㎡
- **升级领地**: 消耗地脉能量+特殊材料
- **建造建筑**: 消耗地脉能量+特殊材料
- **交易手续费**: 交易金额的5%

---

### 3.3 AR扫描系统

#### 3.3.1 扫描机制
- 玩家进入AR模式，使用摄像头扫描周围环境
- 系统在AR视图中随机生成虚拟物体（宝箱、能量球等）
- 物体出现概率与所在区域类型相关

#### 3.3.2 可扫描物品

| 物品类型 | 出现概率 | 奖励内容 |
|---------|---------|---------|
| 普通宝箱 | 40% | 少量能量（100-500） |
| 稀有宝箱 | 20% | 特殊材料 × 1-3 |
| 史诗宝箱 | 5% | 高级材料 × 5 + 金币 × 100 |
| 能量球 | 30% | 地脉能量（50-200） |
| 神秘商人 | 5% | 限时商品购买机会 |

#### 3.3.3 扫描限制
- 每天扫描次数上限：20次（可通过道具增加）
- 每次扫描有效时间：5分钟
- 扫描冷却时间：30分钟

#### 3.3.4 特殊玩法
- **AR寻宝活动**: 特定时间在特定地点刷新稀有物品
- **AR领地标记**: 在自己的领地上放置AR装饰物
- **AR对战**: 在重叠区域与其他玩家进行AR小游戏对决

---

### 3.4 交易系统

#### 3.4.1 交易类型

**1. 领地交易**
- 卖方设定价格或开启拍卖
- 买方支付地脉能量或金币
- 系统收取5%手续费
- 交易完成后领地所有权转移

**2. 资源交易**
- 玩家之间交换地脉能量、材料、道具
- 支持物物交换和货币交易
- 系统收取2%手续费

**3. 拍卖系统**
- 稀有领地或道具可开启竞拍
- 拍卖时间：24小时
- 最高出价者获得
- 未中标玩家退还竞拍款

#### 3.4.2 交易市场
- **领地市场**: 浏览在售领地，按价格/等级/类型筛选
- **资源市场**: 购买玩家出售的材料和道具
- **拍卖行**: 参与稀有物品竞拍
- **交易记录**: 查看历史交易和收益

#### 3.4.3 定价机制
- 系统根据领地属性提供参考价格
- 价格 = 基础价值 × 等级系数 × 区域系数 × 稀缺度
- 玩家可自由定价（不低于参考价的50%）

---

### 3.5 战斗与竞争系统

#### 3.5.1 领地攻防
- **攻击**: 玩家可向其他玩家的领地发起挑战
- **防御**: 领地所有者可设置防御建筑和策略
- **胜负判定**: 根据双方战力、策略、运气综合判定
- **奖励**: 胜者获得领地或赔偿，败者损失资源

#### 3.5.2 战力系统
战力由以下因素决定：
- 玩家等级 × 10
- 领地总价值 × 0.1
- 拥有的高级建筑数量 × 50
- 特殊道具加成

#### 3.5.3 保护机制
- 新手保护期：注册7天内不受攻击
- 领地护盾：使用道具获得12小时免战
- 同一领地每天最多被攻击3次

---

## 四、游戏流程设计

### 4.1 新手引导流程

#### 第一步：欢迎与登录
- 播放精美的开场动画（地脉能量觉醒）
- 引导用户选择登录方式
- 完成基础信息填写（昵称、头像）

#### 第二步：圈地教学
- 弹出教学对话框："你感知到了附近的地脉能量！"
- 自动打开地图，高亮当前位置
- 引导点击"圈地"按钮
- 提示调整圈地范围
- 确认圈地，获得第一块领地
- 播放庆祝动画，奖励新手礼包

#### 第三步：资源收集
- 提示"你的领地正在产出能量"
- 引导点击领地图标
- 展示领地详情页
- 点击"收获"按钮，获得能量
- 提示能量的用途

#### 第四步：AR体验
- 引导进入AR扫描模式
- 教学如何移动设备寻找宝箱
- 发现第一个宝箱
- 点击收集，获得奖励
- 展示奖励内容

#### 第五步：自由探索
- 引导结束，提示"去探索更多区域吧！"
- 解锁主要功能菜单
- 发放新手任务

### 4.2 日常游戏循环

**早晨（7:00-9:00）**
- 登录游戏
- 收取领地过夜产出
- 完成每日签到
- 查看领地状态

**白天（9:00-18:00）**
- 在上班/上学路上圈占新领地
- 中午休息时进行AR扫描
- 交易市场购买所需资源
- 升级领地和建筑

**晚上（18:00-22:00）**
- 参与限时活动
- 与好友互动
- 策划领地扩张
- 参与拍卖竞价

**睡前（22:00-24:00）**
- 最后一次收取能量
- 设置防御策略
- 查看明日任务
- 退出游戏

### 4.3 成长路径

#### 新手期（Lv.1-10）
- 目标：了解基础玩法，拥有3-5块领地
- 重点：圈地、收集资源、完成新手任务
- 预计时长：3-5天

#### 成长期（Lv.11-30）
- 目标：扩张领地，建立稳定收入
- 重点：领地升级、建筑建造、交易参与
- 预计时长：2-3周

#### 成熟期（Lv.31-50）
- 目标：成为区域强者，优化领地布局
- 重点：竞争对抗、高端交易、公会活动
- 预计时长：1-2个月

#### 大佬期（Lv.50+）
- 目标：称霸一方，影响游戏经济
- 重点：垄断优质地段、公会战、排行榜竞争
- 预计时长：持续游戏

---

## 五、数值设计

### 5.1 经济系统数值

#### 5.1.1 领地价值计算公式
```
领地基础价值 = 面积(㎡) × 区域系数 × 10
区域系数：
  - 商业区：5.0
  - 文化区：3.0
  - 居民区：2.0
  - 公园区：2.0
  - 郊区：1.0
  - 特殊区：10.0
```

#### 5.1.2 能量产出公式
```
每小时产出 = 基础产出 × 等级系数 × 建筑加成
基础产出 = 领地价值 / 100
等级系数 = 1 + (等级 - 1) × 0.2
建筑加成 = 1 + ∑(建筑加成比例)
```

#### 5.1.3 升级消耗表

| 等级 | 所需能量 | 所需材料 | 升级时间 |
|-----|---------|---------|---------|
| 1→2 | 5,000 | 能量核心×1 | 1小时 |
| 2→3 | 10,000 | 能量核心×2 | 2小时 |
| 3→4 | 20,000 | 能量核心×3 + 水晶石×1 | 4小时 |
| 4→5 | 40,000 | 能量核心×5 + 水晶石×2 | 8小时 |
| 5→6 | 80,000 | 能量核心×8 + 水晶石×5 | 12小时 |
| 6→7 | 150,000 | 能量核心×12 + 水晶石×10 | 24小时 |
| 7→8 | 300,000 | 能量核心×20 + 水晶石×20 | 48小时 |
| 8→9 | 500,000 | 能量核心×30 + 水晶石×30 | 72小时 |
| 9→10 | 1,000,000 | 能量核心×50 + 水晶石×50 | 120小时 |

### 5.2 玩家等级系统

#### 5.2.1 经验获取
| 行为 | 获得经验 |
|-----|---------|
| 圈占领地 | 100 XP |
| 收获能量 | 10 XP / 1000能量 |
| AR扫描收集 | 20 XP / 次 |
| 完成任务 | 50-500 XP |
| 成功交易 | 交易额 × 0.01 XP |
| 领地升级 | 200 XP / 级 |

#### 5.2.2 等级经验表
```
升级所需经验 = 100 × (当前等级)²
例如：
Lv.1 → Lv.2: 100 XP
Lv.2 → Lv.3: 400 XP
Lv.3 → Lv.4: 900 XP
Lv.10 → Lv.11: 10,000 XP
Lv.50 → Lv.51: 250,000 XP
```

#### 5.2.3 等级奖励
每升一级获得：
- 地脉能量 × 1000
- 金币 × 10
- 领地槽位（每5级+1）
- 解锁新功能（特定等级）

---

## 六、关卡与任务设计

### 6.1 主线任务

#### 第一章：觉醒（Lv.1-5）
1. 完成首次圈地
2. 收获1000点能量
3. 升级领地到Lv.2
4. 完成一次AR扫描
5. 拥有3块领地

#### 第二章：扩张（Lv.6-15）
1. 圈占商业区领地1块
2. 建造第一个能量塔
3. 累计收获10,000能量
4. 参与一次交易
5. 拥有8块领地

#### 第三章：争霸（Lv.16-30）
1. 领地升级到Lv.5
2. 参与一次领地攻防
3. 加入或创建公会
4. 完成10次AR扫描
5. 成为某区域排名前10

### 6.2 日常任务

| 任务名称 | 任务描述 | 奖励 |
|---------|---------|------|
| 每日签到 | 登录游戏 | 能量×500, 金币×5 |
| 能量收割 | 收获5次能量 | 能量×1000 |
| 探索者 | 进行3次AR扫描 | 材料随机×3 |
| 交易达人 | 完成1笔交易 | 金币×20 |
| 领地扩张 | 圈占1块新领地 | 经验×100 |

### 6.3 成就系统

#### 圈地类
- **初露锋芒**: 圈占10块领地 → 奖励：金币×100
- **地产大亨**: 圈占50块领地 → 奖励：稀有建筑蓝图×1
- **土地之王**: 圈占100块领地 → 奖励：专属称号+头像框

#### 收集类
- **寻宝新手**: AR扫描收集100次 → 奖励：能量×5000
- **寻宝专家**: AR扫描收集500次 → 奖励：传说宝箱×1
- **寻宝大师**: AR扫描收集1000次 → 奖励：专属AR特效

#### 财富类
- **小富即安**: 累计拥有100,000能量 → 奖励：金币×50
- **腰缠万贯**: 累计拥有1,000,000能量 → 奖励：能量塔蓝图×1
- **富可敌国**: 累计拥有10,000,000能量 → 奖励：专属皮肤

---

## 七、社交系统

### 7.1 好友系统
- 添加附近的玩家为好友
- 查看好友领地分布
- 互相赠送礼物（每日1次）
- 好友间可无手续费交易
- 组队完成特殊任务

### 7.2 公会系统
- 玩家可创建或加入公会
- 公会成员协同占领大型区域
- 公会仓库共享资源
- 公会战：与其他公会争夺控制权
- 公会排行榜和专属奖励

### 7.3 聊天系统
- 世界频道：全服聊天
- 区域频道：附近玩家聊天
- 公会频道：公会内部交流
- 私聊：与好友一对一沟通
- 实时语音（可选）

### 7.4 排行榜
- **玩家等级榜**: 按等级排名
- **领地数量榜**: 按拥有领地数排名
- **财富榜**: 按总资产排名
- **战力榜**: 按战斗力排名
- **区域榜**: 显示各区域的领主

---

## 八、界面与交互设计

### 8.1 主要界面

#### 1. 地图首页
- 占据80%屏幕的地图视图
- 顶部状态栏（等级、能量、金币）
- 底部功能栏（地图、AR、市场、公会、个人）
- 右侧快捷按钮（圈地、定位、设置）
- 浮动消息提示

#### 2. 领地详情页
- 领地3D可视化展示
- 基本信息（等级、面积、类型）
- 产出数据图表
- 建筑列表
- 操作按钮（升级、建造、出售）

#### 3. AR扫描界面
- 全屏摄像头视图
- AR物体高亮显示
- 距离提示
- 扫描次数剩余显示
- 退出按钮

#### 4. 交易市场
- 顶部标签切换（领地/资源/拍卖）
- 筛选和排序功能
- 商品卡片列表
- 搜索框
- 我的出售列表

#### 5. 个人中心
- 头像和昵称
- 等级进度条
- 资产统计（领地数、总价值）
- 成就展示
- 设置入口

### 8.2 交互设计原则
- **直观性**: 核心功能1-2次点击完成
- **反馈性**: 每个操作都有明确的视觉/声音反馈
- **引导性**: 新功能首次使用时自动引导
- **响应性**: 动画流畅，响应迅速
- **一致性**: 统一的设计语言和交互逻辑

### 8.3 视觉风格
- **色调**: 科幻蓝绿色为主，搭配金色和紫色
- **字体**: 现代感强的无衬线字体
- **图标**: 扁平化风格，高识别度
- **动画**: 流畅的过渡动画和粒子效果
- **AR特效**: 炫酷的能量流动和光效

---

## 九、技术实现要点

### 9.1 地图与定位
- 集成高德/百度地图SDK
- 使用CoreLocation实现高精度定位
- 实现地图缓存机制，支持离线查看
- 优化地图标注性能，避免卡顿

### 9.2 AR功能
- 基于ARKit框架实现
- 平面检测和空间锚点
- 虚拟物体渲染和交互
- 电池优化和性能控制

### 9.3 后端架构
- 使用Supabase提供后端服务
- PostgreSQL数据库存储游戏数据
- 实时数据同步（WebSocket）
- 云函数处理复杂业务逻辑

### 9.4 性能优化
- 分页加载地图标注
- 资源懒加载和预加载
- 内存管理和缓存策略
- 网络请求优化（批量/合并）

---

## 十、运营与活动设计

### 10.1 日常活动
- **能量暴涨**: 特定时段领地产出×2
- **AR寻宝**: 在指定地点刷新稀有宝箱
- **交易狂欢**: 交易手续费减半
- **领地大战**: 战斗胜率提升

### 10.2 周末活动
- **公会战**: 公会之间争夺大型区域控制权
- **全民竞拍**: 珍稀领地和道具限时拍卖
- **探险挑战**: 完成特殊任务获得丰厚奖励

### 10.3 节日活动
- 春节：红包雨，AR扫福字
- 国庆：占领国旗图案领地
- 圣诞：雪景特效，神秘礼物

### 10.4 长期运营策略
- 赛季制度：每3个月一个赛季，赛季末结算排名奖励
- 版本更新：每月更新新内容（新建筑、新玩法）
- 联动活动：与真实商户合作（占领星巴克获得优惠券）
- 电竞化：举办官方比赛，奖金池

---

## 十一、商业模式

### 11.1 内购设计
- **金币礼包**: $0.99 - $99.99
- **月卡**: $4.99/月，每日赠送金币和材料
- **特权会员**: $9.99/月，免交易手续费、扫描次数+10
- **限定皮肤**: $2.99 - $9.99
- **加速道具**: $0.99 - $4.99

### 11.2 广告变现（可选）
- 激励视频：观看广告获得免费扫描次数
- Banner广告：在非核心界面展示
- 原生广告：交易市场推荐位

### 11.3 合作变现
- 品牌合作：在特定品牌门店附近圈地奖励
- 广告主定制：在游戏内投放AR广告
- 数据服务：提供匿名化的人流数据（需用户授权）

---

## 十二、版本规划

### V1.0 - MVP版本（核心玩法）
**功能清单**:
- ✅ 用户登录与认证
- ✅ 基础圈地系统
- ✅ 地图首页
- ✅ 能量收集与存储
- ✅ 简单交易市场
- ✅ 玩家个人中心
- ✅ 新手引导

**开发周期**: 8周
**目标**: 验证核心玩法，获得种子用户

### V1.1 - 增强版（AR与社交）
**新增功能**:
- ✅ AR扫描系统
- ✅ 好友系统
- ✅ 聊天功能
- ✅ 领地升级与建筑
- ✅ 任务系统
- ✅ 成就系统

**开发周期**: 4周
**目标**: 提升游戏深度和社交粘性

### V2.0 - 完整版（竞技与公会）
**新增功能**:
- ✅ 领地攻防系统
- ✅ 公会系统
- ✅ 公会战
- ✅ 排行榜
- ✅ 赛季制度
- ✅ 高级交易（拍卖）

**开发周期**: 8周
**目标**: 构建完整游戏生态，实现商业化

---

## 十三、风险与应对

### 13.1 技术风险
| 风险 | 影响 | 应对方案 |
|-----|------|---------|
| GPS定位不准 | 影响圈地准确性 | 增加定位校准功能，允许手动微调 |
| AR性能问题 | 老设备无法运行 | 提供低配模式，降低特效 |
| 服务器压力 | 高并发时卡顿 | 使用云服务弹性扩容 |
| 地图数据更新 | 地图信息过时 | 定期从SDK更新数据 |

### 13.2 设计风险
| 风险 | 影响 | 应对方案 |
|-----|------|---------|
| 玩法单调 | 用户流失 | 持续更新内容和活动 |
| 数值失衡 | 游戏经济崩溃 | 建立数值模型，定期调整 |
| 作弊行为 | 破坏游戏公平性 | GPS防作弊、行为检测 |

### 13.3 运营风险
| 风险 | 影响 | 应对方案 |
|-----|------|---------|
| 获客成本高 | 盈利困难 | 优化ASO，开展裂变活动 |
| 用户留存低 | 难以形成社区 | 增强社交功能，提升奖励 |
| 政策监管 | 被下架或限制 | 明确隐私政策，获得用户授权 |

---

## 十四、测试计划

### 14.1 Alpha测试（内部）
- **时间**: 开发完成后1周
- **人员**: 开发团队 + 10名内测用户
- **重点**: 核心功能可用性、重大Bug修复

### 14.2 Beta测试（封闭）
- **时间**: Alpha测试后2周
- **人员**: 邀请100名玩家
- **重点**: 数值平衡、体验优化、性能测试

### 14.3 公开测试
- **时间**: Beta测试后2周
- **人员**: 开放下载
- **重点**: 服务器压力测试、收集反馈、迭代优化

### 14.4 测试用例
- 登录流程完整性
- 圈地在各种GPS精度下的表现
- AR在不同光线和环境下的效果
- 交易系统的准确性和安全性
- 多人同时操作的并发性能
- 电池消耗和发热情况

---

## 十五、文档版本信息

| 版本号 | 修订日期 | 修订人 | 修订内容 |
|-------|---------|-------|---------|
| V1.0 | 2026-01-01 | 游戏设计团队 | 初始版本创建 |

---

## 十六、附录

### 16.1 参考游戏
- **Pokémon GO**: LBS玩法和AR捕捉
- **Ingress**: 领地占领和派系对抗
- **模拟城市**: 建设经营系统
- **大富翁**: 地产买卖概念

### 16.2 关键术语
- **LBS**: Location-Based Service，基于位置的服务
- **AR**: Augmented Reality，增强现实
- **GPS**: Global Positioning System，全球定位系统
- **地脉能量**: 游戏世界观中的核心资源
- **圈地**: 玩家占领地理区域的行为

### 16.3 联系方式
- **游戏设计**: gamedesign@earthlord.com
- **技术支持**: tech@earthlord.com
- **运营合作**: operation@earthlord.com

---

**文档状态**: 待审批
**保密级别**: 内部
**所有权**: 《地球新主》开发团队
